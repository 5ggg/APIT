<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Dr. Simon Rogers" />
  <title>APIT - Java recap etc</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="pandoc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">APIT - Java recap etc</h1>
<h2 class="author">Dr. Simon Rogers</h2>
<h3 class="date">29/12/2018</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#programming">Programming</a><ul>
<li><a href="#compiling-and-running-java-from-the-command-line">Compiling and running Java from the command line</a></li>
<li><a href="#organising-projects">Organising projects</a></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#inheritance">Inheritance</a></li>
<li><a href="#abstract-classes">Abstract Classes</a></li>
<li><a href="#interfaces">Interfaces</a></li>
</ul></li>
<li><a href="#some-odds-and-ends">Some odds and ends</a><ul>
<li><a href="#public-private-and-protected"><code>public</code>, <code>private</code> and <code>protected</code></a></li>
<li><a href="#static"><code>static</code></a></li>
<li><a href="#static-attributes"><code>static</code> attributes</a></li>
</ul></li>
<li><a href="#memory-in-java">Memory in Java</a><ul>
<li><a href="#the-stack">The Stack</a></li>
<li><a href="#the-heap">The Heap</a></li>
<li><a href="#garbage-collection">Garbage collection</a></li>
</ul></li>
<li><a href="#immutable-objects">Immutable objects</a></li>
<li><a href="#call-by-value-and-call-by-reference">Call by value and call by reference</a><ul>
<li><a href="#final">Final</a></li>
</ul></li>
<li><a href="#some-useful-java-objects">Some useful Java objects</a><ul>
<li><a href="#arraylist">ArrayList</a></li>
<li><a href="#hashset">HashSet</a></li>
<li><a href="#hashmap">HashMap</a></li>
</ul></li>
<li><a href="#hashing">Hashing</a><ul>
<li><a href="#collisions"> Collisions</a></li>
<li><a href="#hashcode"><code>hashCode()</code></a></li>
</ul></li>
<li><a href="#generics">Generics</a><ul>
<li><a href="#arraylist-1"> ArrayList</a></li>
<li><a href="#creating-generic-objects">Creating generic objects</a></li>
</ul></li>
<li><a href="#testing">Testing</a><ul>
<li><a href="#unit-testing">Unit testing</a></li>
<li><a href="#junit"> JUnit</a></li>
<li><a href="#assertions">Assertions</a></li>
</ul></li>
<li><a href="#javadoc">JavaDoc</a></li>
<li><a href="#things-we-are-not-covering-here">Things we are not covering here</a><ul>
<li><a href="#testing-1">Testing</a></li>
<li><a href="#data-structures">Data structures</a></li>
<li><a href="#build-systems">Build systems</a></li>
<li><a href="#software-engineering">Software Engineering</a></li>
</ul></li>
</ul>
</div>
<h1 id="overview">Overview</h1>
<ul>
<li>Introduction</li>
<li>Objects, interfaces etc</li>
<li>Immutable objects</li>
<li>Call by reference / value</li>
<li>Final</li>
<li>Testing</li>
<li>Documenting</li>
<li>Tools</li>
</ul>
<hr />
<h1 id="programming">Programming</h1>
<h2 id="compiling-and-running-java-from-the-command-line">Compiling and running Java from the command line</h2>
<ul>
<li>I will do this in class</li>
<li>In simplest case, it involves two steps:
<ul>
<li>Compiling: <code>javac MyClass.java</code></li>
<li>Running: <code>java MyClass</code></li>
</ul></li>
<li>We will see some more complex examples throughout the course</li>
<li>Feel free to use Eclipse if you prefer</li>
<li>Also, Visual Studio Code...</li>
</ul>
<hr />
<h2 id="organising-projects">Organising projects</h2>
<ul>
<li>All the programs in this course involve small numbers of classes</li>
<li>For larger projects, it is important to organise all your files in a standard manner
<ul>
<li>Eclipse does this automatically</li>
</ul></li>
<li>If you want to do it manually, good description is available <a href="http://cs.lmu.edu/~ray/notes/largejavaapps/">here</a></li>
</ul>
<hr />
<h2 id="classes">Classes</h2>
<ul>
<li>Classes define objects</li>
<li><code>Pet</code> is a simple class used by <code>PetTest</code></li>
<li>Classes allow us to neatly combine related attributes and methods</li>
</ul>
<hr />
<h2 id="inheritance">Inheritance</h2>
<ul>
<li>One of the big strengths of OOP is <em>inheritance</em>
<ul>
<li>Creating classes that <em>inherit</em> everything of another class and add more</li>
<li>e.g. <code>Dog</code>, <code>Goldfish</code>, <code>PetInheritanceTest</code></li>
</ul></li>
<li>In this example we also see <code>overridden</code> methods
<ul>
<li><code>Dog</code> and <code>Goldfish</code> override the <code>description</code> method</li>
<li>The loop does not care which subclass the objects belong to.</li>
<li>This is very useful in many applications - <em>polymorphism</em></li>
</ul></li>
</ul>
<hr />
<h2 id="abstract-classes">Abstract Classes</h2>
<ul>
<li>Standard classes can be <em>instantiated</em>
<ul>
<li>i.e. we can create objects of their type (e.g. <code>Pet</code>, <code>Dog</code>, etc)</li>
</ul></li>
<li>Java allows you to define classes that cannot be instantiated: <strong>Abstract classes</strong></li>
<li>Abstract classes can only be sub-classed
<ul>
<li>e.g. <code>AbstractPet</code>, <code>Cat</code> and <code>AbstractPetTest</code></li>
</ul></li>
<li>There is no situation where you would <em>have</em> to use an abstract class but many where it's neater</li>
<li>Note that sub-classes have to implement all abstract methods or be abstract themselves</li>
</ul>
<hr />
<h2 id="interfaces">Interfaces</h2>
<ul>
<li>Interfaces are similar to abstract classes but:
<ul>
<li>Cannot have fields (unless they are <code>static</code> and <code>final</code>)</li>
</ul></li>
<li>See <code>InterfacePet</code>, <code>Parrot</code> and <code>TestInterfacePet</code></li>
<li>Interfaces are like contracts: they just specify the methods a class must implement
<ul>
<li>Note that methods in interfaces are abstract by default</li>
</ul></li>
<li>Note:
<ul>
<li>Classes can only sub-class one class...</li>
<li>...but can implement many interfaces</li>
</ul></li>
</ul>
<h1 id="some-odds-and-ends">Some odds and ends</h1>
<h2 id="public-private-and-protected"><code>public</code>, <code>private</code> and <code>protected</code></h2>
<ul>
<li>Fields/attributes and methods are either public, private, or protected
<ul>
<li>Public: anything can access</li>
<li>Private: only objects of this type can access
<ul>
<li>e.g. <code>provideBone</code> method in <code>Dog</code></li>
</ul></li>
<li>Protected: only objects of this type, sub-classes (and other things within the same package)
<ul>
<li>e.g. <code>name</code> and <code>age</code> in <code>Pet</code> and <code>AbstractPet</code></li>
</ul></li>
</ul></li>
<li>In general, be as restrictive as possible.</li>
</ul>
<hr />
<h2 id="static"><code>static</code></h2>
<ul>
<li>Fields and methods can also be declared <code>static</code></li>
<li>This means that they are accessible without an object being instantiated</li>
<li>Useful for storing generic methods and constants</li>
<li>e.g. <code>MyMath</code> and <code>MyMathTest</code>
<ul>
<li><code>areaOfCircle</code> is used without creating a <code>MyMath</code> object</li>
<li>Another static thing is used here - what is it?</li>
</ul></li>
</ul>
<hr />
<h2 id="static-attributes"><code>static</code> attributes</h2>
<ul>
<li>Static attributes within an object are <em>shared</em> by all instances</li>
<li>Change the value in one, and it will change in all of the others...
<ul>
<li>Useful, but not always the neatest solution</li>
</ul></li>
</ul>
<hr />
<h1 id="memory-in-java">Memory in Java</h1>
<ul>
<li>Most data in Java is stored in Objects</li>
<li>Objects are stored in an area of memory called the <em>heap</em>
<ul>
<li>There is one heap for the whole program</li>
</ul></li>
<li>Each thread has its own stack
<ul>
<li>All programs have at least one thread</li>
<li>In your programmes so far, there is one thread</li>
</ul></li>
</ul>
<hr />
<h2 id="the-stack">The Stack</h2>
<ul>
<li>The stack is used for three purposes:
<ul>
<li>Evaluating expressions</li>
<li>Storage of local variables (variables in the current <em>scope</em>)</li>
<li>Management of method calls</li>
</ul></li>
<li>Think of it as a stack of paper.
<ul>
<li>Pieces of paper are put on (pushed), and taken off (popped), the top of the pile</li>
<li>LIFO: Last In First Out</li>
</ul></li>
</ul>
<hr />
<h2 id="the-heap">The Heap</h2>
<ul>
<li>The heap is an area of memory used to store objects in Java</li>
<li>Objects in the heap are accessible from any part of the program that has a local reference to the object</li>
<li>Threads share a single heap
<ul>
<li>i.e. each thread can access objects in the heap</li>
<li>Useful, but causes all of the multi-threading problems we wil see</li>
</ul></li>
<li>In Java, objects are stored in the heap, references to objects are stored in the stack
<ul>
<li>This is very important, and we will come back to it later...</li>
</ul></li>
</ul>
<hr />
<h2 id="garbage-collection">Garbage collection</h2>
<ul>
<li>Java periodically deletes objects when they are not needed</li>
<li>An object is not needed if it is <em>unreachable</em>
<ul>
<li>i.e. no references to it exist</li>
</ul></li>
</ul>
<hr />
<div class="figure">
<img src="Figures/garbage1.jpg" alt="Example program" />
<p class="caption">Example program</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage2.jpg" alt="Object (B) and reference (b) created" />
<p class="caption">Object (B) and reference (b) created</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage3.jpg" alt="object (A) and reference (a) created. Note that A includes a reference to B)" />
<p class="caption">object (A) and reference (a) created. Note that A includes a reference to B)</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage4.jpg" alt="Two more B objects and references created" />
<p class="caption">Two more B objects and references created</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage5.jpg" alt="Reference b deleted" />
<p class="caption">Reference b deleted</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage6.jpg" alt="Reference b2 deleted" />
<p class="caption">Reference b2 deleted</p>
</div>
<hr />
<div class="figure">
<img src="Figures/garbage7.jpg" alt="Objects with no reference are garbage. Note that the first B is still referenced from A so isn&#39;t garbage even though its original reference has been deleted" />
<p class="caption">Objects with no reference are garbage. Note that the first B is still referenced from A so isn't garbage even though its original reference has been deleted</p>
</div>
<hr />
<h1 id="immutable-objects">Immutable objects</h1>
<ul>
<li>Some native Java objects are <em>immutable</em></li>
<li>Once they are created they cannot be changed
<ul>
<li>e.g. String, Double, Float, Integer, etc</li>
</ul></li>
<li>It looks like we can change them?</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="bu">String</span> a = <span class="st">&quot;hello&quot;</span>;
a+=<span class="st">&quot; simon&quot;</span>;</code></pre></div>
<ul>
<li>But, Java is creating a new object and storing the reference in <code>a</code>
<ul>
<li>Objects in heap, references in stack...</li>
</ul></li>
<li>See <code>StringExample</code></li>
</ul>
<hr />
<h1 id="call-by-value-and-call-by-reference">Call by value and call by reference</h1>
<ul>
<li>Call by value
<ul>
<li>Value of a variable is passed to a method</li>
<li>Changes to the local copy are not reflected in the calling space</li>
</ul></li>
<li>Call by reference (e.g. C++)
<ul>
<li>Object references are passed to method</li>
<li>Actual object can be modified</li>
</ul></li>
</ul>
<hr />
<div class="figure">
<img src="Figures/passing.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/passing2.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/passing3.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/passing4.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/objectPassing.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/objectPassing2.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/objectPassing3.jpg" />

</div>
<hr />
<div class="figure">
<img src="Figures/objectPassing4.jpg" />

</div>
<hr />
<ul>
<li>In Java, numbers and object references are call by value. Note that there is a difference between:
<ul>
<li>Objects are passed by reference</li>
<li>Object references are passed by value</li>
</ul></li>
<li>Objects passed to a method can be modified, but creating new ones will not be reflected in the calling scope (the reference cannot change)
<ul>
<li><code>CallExamples</code></li>
</ul></li>
<li>Objects are stored in the heap, references to objects are stored in the stack</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> CallExamples {
    <span class="kw">public</span> <span class="dt">static</span> <span class="kw">class</span> MyClass {
        <span class="dt">int</span> a = <span class="dv">0</span>;
        <span class="kw">public</span> <span class="fu">MyClass</span>(<span class="dt">int</span> a) {
            <span class="kw">this</span>.<span class="fu">a</span> = a;
        }
        <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getValue</span>() {
            <span class="kw">return</span> a;
        }
    }
    <span class="kw">public</span> <span class="dt">static</span> <span class="kw">class</span> DoubleClass {
        <span class="bu">Double</span> a = <span class="fl">0.0</span>;
        <span class="kw">public</span> <span class="fu">DoubleClass</span>(<span class="bu">Double</span> a) {
            <span class="kw">this</span>.<span class="fu">a</span> = a;
        }
        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">multiply</span>(<span class="bu">Double</span> m) {
            a = a * m;
        }
        <span class="kw">public</span> <span class="bu">Double</span> <span class="fu">getValue</span>() {
            <span class="kw">return</span> a;
        }
    }
    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">aTest</span>(MyClass in) {
        in = <span class="kw">new</span> <span class="fu">MyClass</span>(<span class="dv">5</span>);
    }

    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">stringTest</span>(<span class="bu">String</span> in) {
        in = in + <span class="st">&quot; added&quot;</span>;
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(in);
    }

    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">doubleTest</span>(<span class="bu">Double</span> in) {
        in = in * <span class="dv">2</span>;
    }
    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">doubleObjectTest</span>(DoubleClass in) {
        in.<span class="fu">multiply</span>(<span class="fl">2.0</span>);
    }

    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        MyClass m = <span class="kw">new</span> <span class="fu">MyClass</span>(<span class="dv">3</span>);
        <span class="fu">aTest</span>(m);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">getValue</span>());
        <span class="co">// What value will be displayed?</span>


        <span class="bu">String</span> s = <span class="st">&quot;hello&quot;</span>;
        <span class="fu">stringTest</span>(s);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(s);
        <span class="co">// What will s be?</span>

        <span class="bu">Double</span> d = <span class="fl">3.2</span>;
        <span class="fu">doubleTest</span>(d);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(d);
        <span class="co">// What will d be?</span>

        DoubleClass d2 = <span class="kw">new</span> <span class="fu">DoubleClass</span>(<span class="fl">3.2</span>);
        <span class="fu">doubleObjectTest</span>(d2);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(d2.<span class="fu">getValue</span>());
        <span class="co">// What will the value be?</span>
    }
}</code></pre></div>
<p>In the first example, <code>main</code> creates an object of type <code>MyClass</code> (with value 3). The <code>aTest()</code> method is passed the value of the reference to the object (this sentence is important - make sure you understand it!). Inside the <code>aTest()</code> method it creates a new object and stores the reference in <code>in</code>. So, why don't we see the new object in <code>main</code>? It is because Java uses call by value for references and therefore changes to the value are not reflected in the calling scope. When <code>new</code> is invoked, the value of <code>in</code> changes, but this is the local <code>in</code>.</p>
<p>In the second example, we pass the string <code>&quot;Hello&quot;</code> to <code>stringTest</code>. <code>stringTest</code> appends <code>added</code> to the String. Why isn't this change seen in <code>main</code>? This time it is because String is an immutable type. When it looks like we're changing a String we're actually making a new object. The value of new object reference is stored in the local <code>in</code> variable and so isn't seen in <code>main</code>.</p>
<p>In the third example, we see the same behaviour, but this time with the immutable Double object instead of a String.</p>
<p>In the final example, we do see the value change reflected in <code>main</code>. This is because our <code>DoubleClass</code> is mutable. When we pass a <code>DoubleClass</code> object around, it's attributes can be changed as long as we never change the value of the reference (by, say, making a new object).</p>
<p>If you're struggling with this, keep in mind what a reference to an object is. Perhaps the best way to think of it is as the address of the bit of memory in which the object is stored. E.g. if you think of memory as a set of pigeon holes, then the reference stores which pigeon hole it is in. When we pass an object reference to a method, it creates its own local copy of the reference and therefore knows where the object is stored, and can change it (assuming it permits changes). When a new object is created, it is put in a new pigeon hole and the local reference is changed (but not the original). So, in the first example above, the object referenced by <code>m</code> is left unchanged when <code>aTest()</code> creates a new object. The same thing is happening in examples 2 and 3, even though there is no <code>new</code> statement - because String and Double are immutable, new objects are made when we try and change them (see Figures below). In the final example, the reference never changes so the method can make changes to the original object.</p>
<hr />
<div class="figure">
<img src="Figures/stringthing1.jpg" alt="Example program" />
<p class="caption">Example program</p>
</div>
<hr />
<div class="figure">
<img src="Figures/stringthing2.jpg" alt="Main makes a String object and a reference (s)" />
<p class="caption">Main makes a String object and a reference (s)</p>
</div>
<hr />
<div class="figure">
<img src="Figures/stringthing3.jpg" alt="stringTest makes its own reference to the String object (in)" />
<p class="caption">stringTest makes its own reference to the String object (in)</p>
</div>
<hr />
<div class="figure">
<img src="Figures/stringthing4.jpg" alt="String is an immutable type so when we change it, a new String is made" />
<p class="caption">String is an immutable type so when we change it, a new String is made</p>
</div>
<hr />
<div class="figure">
<img src="Figures/stringthing5.jpg" alt="Back in main, s is still a reference to the original object. What happens to the &quot;hello added&quot; string when we return to main?" />
<p class="caption">Back in main, s is still a reference to the original object. What happens to the &quot;hello added&quot; string when we return to main?</p>
</div>
<hr />
<h2 id="final">Final</h2>
<ul>
<li>It is good practice to make as many things <code>final</code> as possible</li>
<li>Make as many attributes <code>final</code> as possible</li>
<li>Stops other people doing bad things to your code
<ul>
<li><code>final</code> classes can not be sub-classed</li>
<li><code>final</code> methods can not be overloaded</li>
<li><code>final</code> variables cannot be modified once declared</li>
</ul></li>
<li><code>final</code> is not the same as <code>immutable</code></li>
<li><code>FinalTest</code> and <code>FinalTestFixed</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> FinalTest {
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">final</span> <span class="kw">class</span> Person {
        <span class="kw">private</span> <span class="bu">String</span> name;
        <span class="kw">private</span> <span class="bu">Integer</span> age;
        <span class="kw">public</span> <span class="fu">Person</span>(<span class="bu">String</span> name,<span class="bu">Integer</span> age) {
            <span class="kw">this</span>.<span class="fu">name</span> = name;
            <span class="kw">this</span>.<span class="fu">age</span> = age;
        }
        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setName</span>(<span class="bu">String</span> name) {
            <span class="kw">this</span>.<span class="fu">name</span> = name;
        }
        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setAge</span>(<span class="bu">Integer</span> age) {
            <span class="kw">this</span>.<span class="fu">age</span> = age;
        }
        <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span>() {
            <span class="kw">return</span> name;
        }
        <span class="kw">public</span> <span class="bu">Integer</span> <span class="fu">getAge</span>() {
            <span class="kw">return</span> age;
        }
    }
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        Person p = <span class="kw">new</span> <span class="fu">Person</span>(<span class="st">&quot;Ella&quot;</span>,<span class="dv">1</span>);
        p.<span class="fu">setAge</span>(<span class="dv">2</span>);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">getName</span>() + <span class="st">&quot; is &quot;</span> + p.<span class="fu">getAge</span>());
    }
}</code></pre></div>
<p>Here, <code>Person</code> is a final class. But this does not mean that its attributes are immutable. You can see this as <code>main</code> can invoke methods that change the values of the <code>name</code> and <code>age</code> attributes. Remember that a class being <code>final</code> just means that it cannot be sub-classed (inherited). To make immutable classes, all attributes must be immutable (and no mutable objects must be returned). In this case, we change the attribute declarations to:</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> name;
<span class="kw">private</span> <span class="dt">final</span> <span class="bu">Integer</span> age;</code></pre></div>
<p>With this modification, the code will not even compile.</p>
<hr />
<h1 id="some-useful-java-objects">Some useful Java objects</h1>
<h2 id="arraylist">ArrayList</h2>
<ul>
<li>Java arrays are of fixed length</li>
<li><code>ArrayList</code> gives you an object that can handle arrays of any object that change length</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="bu">ArrayList</span>&lt;<span class="bu">Integer</span>&gt; a = <span class="kw">new</span> <span class="bu">ArrayList</span>();
a.<span class="fu">add</span>(<span class="dv">3</span>);
a.<span class="fu">add</span>(<span class="dv">5</span>);
<span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(a.<span class="fu">contains</span>(<span class="dv">4</span>)); <span class="co">// Checks is 4 is in a</span></code></pre></div>
<p>Be careful of arraylists of integers. Various arraylist methods are overloaded to take an object or an integer as the argument (e.g. remove()). This can get very confusing!</p>
<hr />
<h2 id="hashset">HashSet</h2>
<ul>
<li>Useful way of keeping a set of objects together (not ordered)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">    <span class="bu">HashSet</span>&lt;<span class="bu">String</span>&gt; h = <span class="kw">new</span> <span class="bu">HashSet</span>&lt;<span class="bu">String</span>&gt;();
    h.<span class="fu">add</span>(<span class="st">&quot;hello&quot;</span>);
    h.<span class="fu">add</span>(<span class="st">&quot;simon&quot;</span>);
    h.<span class="fu">add</span>(<span class="st">&quot;hello&quot;</span>); <span class="co">// Wont add as already in there</span>
    h.<span class="fu">contains</span>(<span class="st">&quot;hello&quot;</span>); <span class="co">// returns true</span>
    h.<span class="fu">remove</span>(<span class="st">&quot;simon&quot;</span>); <span class="co">// removes this one</span></code></pre></div>
<ul>
<li>Very fast for checking if an item is in the set</li>
</ul>
<hr />
<h2 id="hashmap">HashMap</h2>
<ul>
<li>Useful way of storing key,value pairs</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">    <span class="bu">HashMap</span>&lt;<span class="bu">String</span>,<span class="bu">Double</span>&gt; h = <span class="kw">new</span> <span class="bu">HashMap</span>&lt;<span class="bu">String</span>,<span class="bu">Double</span>&gt;();
    h.<span class="fu">put</span>(<span class="st">&quot;banana&quot;</span>,<span class="fl">3.0</span>);
    h.<span class="fu">put</span>(<span class="st">&quot;apple&quot;</span>,<span class="fl">2.0</span>);
    <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(h.<span class="fu">get</span>(<span class="st">&quot;apple&quot;</span>)); <span class="co">//print 2</span>
    h.<span class="fu">keySet</span>(); <span class="co">// Returns a set of the keys</span></code></pre></div>
<ul>
<li>Very fast for obtaining items for a particular key</li>
</ul>
<hr />
<h1 id="hashing">Hashing</h1>
<ul>
<li>Hashing solves the problem of <em>efficiently</em> finding items in some collection</li>
<li>We'll use the example of storing a phonebook. E.g. we want to store the following:
<ul>
<li>Simon, 0777777777</li>
<li>Jennifer, 0666677889</li>
<li>Ravi, 056782776</li>
<li>Ken, 0447838827</li>
<li>Hannah, 066848382</li>
</ul></li>
</ul>
<hr />
<ul>
<li>The simplest solution would be to create two arrays (forget the problem of parallel arrays for now)</li>
<li>Then, to find the number for a particular person, we loop through the array of names</li>
<li><code>PhoneBook1.java</code></li>
</ul>
<hr />
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">
<span class="kw">import</span><span class="im"> java.util.ArrayList;</span>
<span class="kw">public</span> <span class="kw">class</span> PhoneBook1 {
    <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; names;
    <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; numbers;
    <span class="kw">public</span> <span class="fu">PhoneBook1</span>() {
        names = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
        numbers = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
    }    
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name, <span class="bu">String</span> number) {
        names.<span class="fu">add</span>(name);
        numbers.<span class="fu">add</span>(number);
    }
    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
        <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>;i&lt;names.<span class="fu">size</span>();i++) {
            <span class="kw">if</span>(names.<span class="fu">get</span>(i).<span class="fu">equals</span>(name)) {
                <span class="kw">return</span> numbers.<span class="fu">get</span>(i);
            }
        }
        <span class="kw">return</span> <span class="st">&quot;&quot;</span>; <span class="co">// If name doesn&#39;t exist</span>
    }

    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        PhoneBook1 p = <span class="kw">new</span> <span class="fu">PhoneBook1</span>();
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Simon&quot;</span>, <span class="st">&quot;0777777777&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;0666677889&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ravi&quot;</span>, <span class="st">&quot;056782776&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ken&quot;</span>, <span class="st">&quot;0447838827&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Hannah&quot;</span>, <span class="st">&quot;066848382&quot;</span>);

        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">getNumber</span>(<span class="st">&quot;Ravi&quot;</span>));
    }
}</code></pre></div>
<ul>
<li>In general looping over all entries will be slow (if lots of entries)</li>
<li>A solution:
<ul>
<li>Assume no name longer than 15 characters</li>
<li>Create two arrays as before</li>
<li>Store the name and number in the nth position, where n = length of the name</li>
<li><code>PhoneBook2.java</code></li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">
<span class="kw">public</span> <span class="kw">class</span> PhoneBook2 {
    <span class="kw">private</span> <span class="bu">String</span>[] names = <span class="kw">new</span> <span class="bu">String</span>[<span class="dv">15</span>];
    <span class="kw">private</span> <span class="bu">String</span>[] numbers = <span class="kw">new</span> <span class="bu">String</span>[<span class="dv">15</span>];
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name,<span class="bu">String</span> number) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>();
        names[l] = name;
        numbers[l] = number;
    }
    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>();
        <span class="kw">return</span> numbers[l];
    }

    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        PhoneBook2 p = <span class="kw">new</span> <span class="fu">PhoneBook2</span>();
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Simon&quot;</span>, <span class="st">&quot;0777777777&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;0666677889&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ravi&quot;</span>, <span class="st">&quot;056782776&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ken&quot;</span>, <span class="st">&quot;0447838827&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Hannah&quot;</span>, <span class="st">&quot;066848382&quot;</span>);

        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">getNumber</span>(<span class="st">&quot;Ravi&quot;</span>));
    }
}</code></pre></div>
<ul>
<li>This is much quicker as we can jump directly to the correct array position.</li>
<li>It is a simple example of <em>hashing</em></li>
<li>In general, hashing is a way of mapping an object to a position in an array that enables finding it quickly</li>
<li>A <em>hash function</em> is the function used to map from the object to the position</li>
<li>In this example, the object is a <code>String</code> and the function simply computes its length</li>
</ul>
<hr />
<h2 id="collisions"> Collisions</h2>
<ul>
<li>What will happen if we have two names of the same length?</li>
<li>A <em>collision</em>, and our simple program will fail</li>
<li>Solution: maintain a list at each array position</li>
<li><code>PhoneBook3.java</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">
<span class="kw">import</span><span class="im"> java.util.ArrayList;</span>
<span class="kw">public</span> <span class="kw">class</span> PhoneBook3 {

    <span class="co">// Inner class that holds one array entry...</span>
    <span class="kw">private</span> <span class="kw">class</span> PhoneList {
        <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; names = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
        <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; numbers = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name,<span class="bu">String</span> number) {
            names.<span class="fu">add</span>(name);
            numbers.<span class="fu">add</span>(number);
        }
        <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
            <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>;i&lt;names.<span class="fu">size</span>();i++) {
                <span class="kw">if</span>(names.<span class="fu">get</span>(i).<span class="fu">equals</span>(name)) {
                    <span class="kw">return</span> numbers.<span class="fu">get</span>(i);
                }
            }
            <span class="kw">return</span> <span class="st">&quot;&quot;</span>;
        }
    }
    <span class="kw">private</span> PhoneList[] mainList = <span class="kw">new</span> PhoneList[<span class="dv">15</span>];
    <span class="kw">public</span> <span class="fu">PhoneBook3</span>() {
        <span class="kw">for</span>(<span class="dt">int</span> i = <span class="dv">0</span>;i&lt;<span class="dv">15</span>;i++) {
            mainList[i] = <span class="kw">new</span> <span class="fu">PhoneList</span>();
        }
    }
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name, <span class="bu">String</span> number) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>();
        mainList[l].<span class="fu">addEntry</span>(name, number);
    }
    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>();
        <span class="kw">return</span>  mainList[l].<span class="fu">getNumber</span>(name);
    }

    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        PhoneBook3 p = <span class="kw">new</span> <span class="fu">PhoneBook3</span>();
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Simon&quot;</span>, <span class="st">&quot;0777777777&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;0666677889&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ravi&quot;</span>, <span class="st">&quot;056782776&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ken&quot;</span>, <span class="st">&quot;0447838827&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Hannah&quot;</span>, <span class="st">&quot;066848382&quot;</span>);

        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">getNumber</span>(<span class="st">&quot;Ravi&quot;</span>));
    }
}</code></pre></div>
<ul>
<li>Final problem is what to do if a name is longer than 15?</li>
<li>Solution:
<ul>
<li>Fix the max length of array (e.g. 6)</li>
<li>Store entries in the position length % 6</li>
<li><code>PhoneBook4.java</code></li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">
<span class="kw">import</span><span class="im"> java.util.ArrayList;</span>
<span class="kw">public</span> <span class="kw">class</span> PhoneBook4 {

    <span class="co">// Inner class that holds one array entry...</span>
    <span class="kw">private</span> <span class="kw">class</span> PhoneList {
        <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; names = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
        <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt; numbers = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();
        <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name,<span class="bu">String</span> number) {
            names.<span class="fu">add</span>(name);
            numbers.<span class="fu">add</span>(number);
        }
        <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
            <span class="kw">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>;i&lt;names.<span class="fu">size</span>();i++) {
                <span class="kw">if</span>(names.<span class="fu">get</span>(i).<span class="fu">equals</span>(name)) {
                    <span class="kw">return</span> numbers.<span class="fu">get</span>(i);
                }
            }
            <span class="kw">return</span> <span class="st">&quot;&quot;</span>;
        }
    }
    <span class="kw">private</span> PhoneList[] mainList = <span class="kw">new</span> PhoneList[<span class="dv">15</span>];
    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">int</span> MAX_LENGTH = <span class="dv">6</span>; <span class="co">// Change here...</span>
    <span class="kw">public</span> <span class="fu">PhoneBook3</span>() {
        <span class="kw">for</span>(<span class="dt">int</span> i = <span class="dv">0</span>;i&lt;MAX_LENGTH;i++) {
            mainList[i] = <span class="kw">new</span> <span class="fu">PhoneList</span>();
        }
    }
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">addEntry</span>(<span class="bu">String</span> name, <span class="bu">String</span> number) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>() % MAX_LENGTH; <span class="co">// Change here...</span>
        mainList[l].<span class="fu">addEntry</span>(name, number);
    }
    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getNumber</span>(<span class="bu">String</span> name) {
        <span class="dt">int</span> l = name.<span class="fu">length</span>() % MAX_LENGTH; <span class="co">// Change here...</span>
        <span class="kw">return</span>  mainList[l].<span class="fu">getNumber</span>(name);
    }

    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        PhoneBook3 p = <span class="kw">new</span> <span class="fu">PhoneBook3</span>();
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Simon&quot;</span>, <span class="st">&quot;0777777777&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Jennifer&quot;</span>, <span class="st">&quot;0666677889&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ravi&quot;</span>, <span class="st">&quot;056782776&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Ken&quot;</span>, <span class="st">&quot;0447838827&quot;</span>);
        p.<span class="fu">addEntry</span>(<span class="st">&quot;Hannah&quot;</span>, <span class="st">&quot;066848382&quot;</span>);

        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(p.<span class="fu">getNumber</span>(<span class="st">&quot;Ravi&quot;</span>));
    }
}</code></pre></div>
<ul>
<li>This is the basics of hashing</li>
<li>Length isn't a great hash function
<ul>
<li>Want something that will spread the objects fairly evenly over the array</li>
</ul></li>
</ul>
<hr />
<h2 id="hashcode"><code>hashCode()</code></h2>
<ul>
<li>All objects have a <code>hashCode()</code> method</li>
<li>Here's equivalent code to Java's <code>String</code> hashCode function:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="dt">int</span> <span class="fu">hashCode</span>() {
  <span class="dt">int</span> hash = <span class="dv">0</span>;
  <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; <span class="fu">length</span>(); i++) {
    hash = hash * <span class="dv">31</span> + <span class="fu">charAt</span>(i);
  }
  <span class="kw">return</span> hash;
}</code></pre></div>
<hr />
<ul>
<li>You can overwrite <code>hashCode()</code> for your own objects</li>
<li>By default the hashCode returns (roughly) the memory location of the object</li>
<li>Note:
<ul>
<li>Two objects that are <code>equal</code> <em>must</em> have the same hash.</li>
<li>I.e. if <code>obj1.equals(obj2)</code> then <code>obj1.hashCode()</code> must equal <code>obj2.hashCode()</code></li>
<li>Why? Think about our hashing examples...</li>
</ul></li>
</ul>
<hr />
<h1 id="generics">Generics</h1>
<h2 id="arraylist-1"> ArrayList</h2>
<ul>
<li>What is the <code>&lt;Double&gt;</code> for in <code>ArrayList</code>?</li>
<li>It is a <code>generic</code></li>
<li>i.e. <code>ArrayList</code> can work with any type (specified when you create it)</li>
<li>You can make classes with generics too...</li>
</ul>
<hr />
<h2 id="creating-generic-objects">Creating generic objects</h2>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> MyClass&lt;T&gt; {
    <span class="kw">private</span> T t;
    <span class="kw">public</span> <span class="fu">MyClass</span>(T t) {
        <span class="kw">this</span>.<span class="fu">t</span> = t;
    }
}</code></pre></div>
<ul>
<li>In the code above <code>T</code> can be any class</li>
<li>Can also have multiple types in the definition (<code>&lt;A,B,C,D&gt;</code>)</li>
<li>See <code>Dictionary.java</code></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">import</span><span class="im"> java.util.ArrayList;</span>
<span class="co">// A hacky alternative to HashMaps to demonstrate</span>
<span class="co">// making a class with generics</span>
<span class="kw">public</span> <span class="kw">class</span> <span class="bu">Dictionary</span>&lt;A,B&gt; {
    <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;A&gt; listA = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;A&gt;();
    <span class="kw">private</span> <span class="bu">ArrayList</span>&lt;B&gt; listB = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;B&gt;();
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">add</span>(A a,B b) {
        listA.<span class="fu">add</span>(a);
        listB.<span class="fu">add</span>(b);
    }
    <span class="kw">public</span> B <span class="fu">getDefinition</span>(A a) {
        <span class="dt">int</span> index = listA.<span class="fu">indexOf</span>(a);
        <span class="kw">return</span> listB.<span class="fu">get</span>(index);
    }
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> DictionaryTest {
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        <span class="bu">Dictionary</span>&lt;<span class="bu">String</span>,<span class="bu">Double</span>&gt; d = <span class="kw">new</span> <span class="bu">Dictionary</span>&lt;<span class="bu">String</span>,<span class="bu">Double</span>&gt;();
        d.<span class="fu">add</span>(<span class="st">&quot;apple&quot;</span>,<span class="fl">3.0</span>);
        d.<span class="fu">add</span>(<span class="st">&quot;banana&quot;</span>,<span class="fl">2.5</span>);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(d.<span class="fu">getDefinition</span>(<span class="st">&quot;banana&quot;</span>));

        <span class="co">// Can also make the reverse!</span>
        <span class="bu">Dictionary</span>&lt;<span class="bu">Double</span>,<span class="bu">String</span>&gt; d2 = <span class="kw">new</span> <span class="bu">Dictionary</span>&lt;<span class="bu">Double</span>,<span class="bu">String</span>&gt;();
        d2.<span class="fu">add</span>(<span class="fl">3.0</span>,<span class="st">&quot;apple&quot;</span>);
        d2.<span class="fu">add</span>(<span class="fl">2.5</span>,<span class="st">&quot;banana&quot;</span>);
        <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(d2.<span class="fu">getDefinition</span>(<span class="fl">3.0</span>));

    }
}</code></pre></div>
<h1 id="testing">Testing</h1>
<h2 id="unit-testing">Unit testing</h2>
<ul>
<li>Testing individual components (e.g. classes, methods) to see if they are fit for use</li>
<li>Design a suite of tests that can be run every time objects are changed</li>
<li>Separates testing from the classes themselves</li>
</ul>
<hr />
<h2 id="junit"> JUnit</h2>
<ul>
<li><code>JUnit</code> is a popular Java unit test framework</li>
<li>A <em>test class</em> is created for each normal class</li>
<li>We can then run <code>JUnit</code> and it will automatically perform the tests</li>
<li>Easiest to do this directly in Eclipse</li>
</ul>
<hr />
<h2 id="assertions">Assertions</h2>
<ul>
<li>Unit testing is done at compile time</li>
<li>We might also want <em>runtime</em> checks
<ul>
<li>to catch runtime errors (e.g. based on input that is unknown at compile time)</li>
</ul></li>
<li>The naive way is through the use of <code>if</code> statements</li>
</ul>
<hr />
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> AssertionExample {
    <span class="kw">private</span> <span class="dt">int</span> myInt;
    <span class="kw">public</span> <span class="fu">AssertionExample</span>(<span class="dt">int</span> n) {
        myInt = n;
    }
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">decrement</span>(<span class="dt">int</span> d) {
        <span class="kw">if</span>(d&gt;myInt) {
            <span class="co">// Cannot decrement!</span>
            <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;Can&#39;t decrement!!&quot;</span>);
        }<span class="kw">else</span> {
            myInt = myInt - d;
        }
    }
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        <span class="kw">new</span> <span class="fu">AssertionExample</span>(<span class="dv">5</span>).<span class="fu">decrement</span>(<span class="dv">10</span>);
    }
}</code></pre></div>
<hr />
<ul>
<li>Assertions are a neater way to achieve this
<ul>
<li>Cause the program to exit if the condition is not met</li>
<li>Can be switched on or off at runtime
<ul>
<li>e.g. switch between runtime and debugging</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> AssertionExample2 {
    <span class="kw">private</span> <span class="dt">int</span> myInt;
    <span class="kw">public</span> <span class="fu">AssertionExample2</span>(<span class="dt">int</span> n) {
        myInt = n;
    }
    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">decrement</span>(<span class="dt">int</span> d) {
        assert myInt &gt;= d;
        myInt = myInt - d;
    }
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(<span class="bu">String</span>[] args) {
        <span class="kw">new</span> <span class="fu">AssertionExample2</span>(<span class="dv">5</span>).<span class="fu">decrement</span>(<span class="dv">10</span>);
    }
}</code></pre></div>
<hr />
<ul>
<li>Running:</li>
</ul>
<p><code>java -enableassertions AssertionExample2</code></p>
<ul>
<li>can also use <code>-ea</code></li>
<li>Try running with and without</li>
<li>An alternative is to explicitly throw exceptions but..
<ul>
<li>Takes longer to write</li>
<li>Exceptions cannot be switched off at runtime (slows things down)</li>
</ul></li>
</ul>
<hr />
<h1 id="javadoc">JavaDoc</h1>
<ul>
<li>It's very important to properly document your code</li>
<li>Standard comments <code>//</code> <code>/*</code> are good</li>
<li>Javadoc is better!</li>
<li>[This]{http://agile.csc.ncsu.edu/SEMaterials/tutorials/javadoc/} is quite a good tutorial</li>
</ul>
<hr />
<h1 id="things-we-are-not-covering-here">Things we are not covering here</h1>
<h2 id="testing-1">Testing</h2>
<ul>
<li>We have only touched upon testing. It's very important! Those of you doing SE will cover it more there.</li>
<li>Much software engineering is now done in a <em>test driven</em> manner.
<ul>
<li>First write test cases and then write code.</li>
<li>Stop coding when the test cases are finished.</li>
<li>Writing a good set of test cases is hard!</li>
</ul></li>
</ul>
<h2 id="data-structures">Data structures</h2>
<ul>
<li>We make use of Java objects (e.g. <code>ArrayList</code>) but we don't worry about how Java implements this</li>
<li>We also don't worry too much about the efficiency of different data structures and algorithms</li>
<li>Those of you in ADS will do lots of this</li>
</ul>
<hr />
<h2 id="build-systems">Build systems</h2>
<ul>
<li>Compiling from the command line is fine for simple projects</li>
<li>But..when you have a more complex project with lots of <em>dependencies</em> things get very complex</li>
<li>Systems exist to help you with this</li>
<li>Examples:
<ul>
<li>Maven (the current standard for Java)</li>
<li>ANT (older but still popular)</li>
</ul></li>
<li>See Tim Storer's ANT guide on Moodle</li>
</ul>
<hr />
<h2 id="software-engineering">Software Engineering</h2>
<ul>
<li>Programming is only a small part of building software</li>
<li>Engineering large software projects is hard (evidenced by the number of times they end badly)</li>
<li>Youll get lots of SE in, erm, SE</li>
</ul>
</body>
</html>
